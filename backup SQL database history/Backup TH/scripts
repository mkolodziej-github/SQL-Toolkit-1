บทความนี้จะตรวจสอบวิธีการรับข้อมูลเกี่ยวกับประวัติฐานข้อมูล SQL สํารองของคุณ 
รวมถึงข้อมูลเมตาใน MSDB ที่สามารถสอบถามได้ รวมถึงเครื่องมือและคุณลักษณะที่มีมูลค่าเพิ่มเพื่อจัดกลุ่ม เรียงลําดับ รายงาน และส่งออกข้อมูลสําคัญนี้

จําเป็นอย่างยิ่งที่แต่ละองค์กรจะต้องกําหนดนโยบายการสํารองข้อมูลในสภาพแวดล้อมของตน
นโยบายดังกล่าวช่วยในการกู้คืนฐานข้อมูลโดยมีการสูญหายของข้อมูลน้อยที่สุดและการหยุดทํางานน้อยที่สุด
SQL Server รักษาประวัติการสํารองข้อมูลใน msdb ฐานข้อมูลระบบ
เราอาจใช้การสํารองข้อมูลประเภทต่างๆ ไปยังเวลาการกู้คืนขั้นต่ําหลัก ในกรณีที่เกิดภัยพิบัติใด ๆ
เราต้องรู้วิธีรับข้อมูลจากตารางภายในนี้และเตรียมแผนการฟื้นฟูให้เหมาะสม 
ในบทความนี้เราจะเข้าใจวิธีการดึงข้อมูลประวัติการสํารองข้อมูลฐานข้อมูลเพื่อตอบสนองความต้องการทางธุรกิจที่สําคัญเหล่านี้

filegroup_name: แสดงชื่อกลุ่มไฟล์ของข้อมูลหรือไฟล์บันทึก เราไม่มีกลุ่มไฟล์ใด ๆ สําหรับไฟล์บันทึกดังนั้น คอลัมน์นี้สามารถมีค่า NULL ได้

backed_up_page_count: มันแสดงจํานวนหน้าสํารองไว้

file_type: เราสามารถรับประเภทไฟล์โดยใช้ฟิลด์นี้ มันสามารถมีค่าต่อไปนี้

D: แฟ้มข้อมูล SQL Server
L: แฟ้มบันทึกของเซิร์ฟเวอร์ SQL
F: แค็ตตาล็อกข้อความแบบเต็ม
S: หน่วยความจําที่ปรับไฟล์ให้เหมาะสม
Logical_name: ชื่อตรรกะของไฟล์ฐานข้อมูล

Physical_name: ตําแหน่งทางกายภาพสํารอง

สถานะ: มันให้ข้อมูลสถานะของไฟล์เฉพาะ เราสามารถมีค่าดังต่อไปนี้สําหรับสิ่งนี้

0 = ออนไลน์
1 = การกู้คืน
2 = การกู้คืน
3 = การกู้คืนที่รอดําเนินการ
4 = ผู้ต้องสงสัย
6 = ออฟไลน์
7 = หมดอายุ
8 = ลดลง
backup_size: มันให้ขนาดฐานข้อมูล SQL สํารองเป็นไบต์

differential_base_lsn: SQL Server ใช้การสํารองข้อมูลส่วนต่างสําหรับขอบเขตที่มี LSN มากกว่าdifferential_base_lsn

backupmediafamily
ในตารางนี้เราได้รับข้อมูลเกี่ยวกับชื่อไฟล์ฐานข้อมูล SQL สํารองแบบลอจิคัลและฟิสิคัลพร้อมกับประเภทอุปกรณ์ที่มีการสํารองข้อมูล:
มันจะกลายเป็นเรื่องยากที่จะได้รับข้อมูลสํารองในแต่ละครั้งตามความต้องการ เราจําเป็นต้องเขียนโค้ดและรับข้อมูลตามนั้น 
เราอาจมีสภาพแวดล้อมประเภทต่างๆ ที่มีความต้องการฐานข้อมูลที่แตกต่างกัน และหากเรามีสภาพแวดล้อมฐานข้อมูลขนาดใหญ่ ก็ยากที่จะได้รับข้อมูลนี้
เราอาจรายงานความล้มเหลวในการสํารองข้อมูลหรือรายงานการสํารองข้อมูลไปยังฝ่ายบริหาร ในกรณีเช่นนี้เราต้องการศูนย์กลางที่เราสามารถรับข้อมูลสํารองใด ๆ สําหรับฐานข้อมูลใด ๆ 
